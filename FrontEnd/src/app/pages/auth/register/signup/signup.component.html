
<form [formGroup]="userSignUp" >
  <div class="mb-12">
    <h3 class="text-gray-800 text-3xl font-extrabold">Sign Up</h3>
  
  </div>
  <div class="mt-3">
    <label class="text-gray-800 text-xs block mb-2"
      ><span
        *ngIf="
          userSignUp.controls.userName.getError('required') &&
          userSignUp.controls.userName.touched
        "
        class="text-red-500"
        >*</span
      >Username</label
    >
    <div class="relative flex items-center">
      <input
        formControlName="userName"
        name="username"
        type="text"
        required
        class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-2 py-3 outline-hidden"
        placeholder="Enter username"
        (input)="checkUserName(userSignUp.value.userName!)"
      />
      <svg
        fill="#bbb"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        stroke="#bbb"
        class="w-[18px] h-[18px] absolute right-2"
      >
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M12,1a11,11,0,0,0,0,22,1,1,0,0,0,0-2,9,9,0,1,1,9-9v2.857a1.857,1.857,0,0,1-3.714,0V7.714a1,1,0,1,0-2,0v.179A5.234,5.234,0,0,0,12,6.714a5.286,5.286,0,1,0,3.465,9.245A3.847,3.847,0,0,0,23,14.857V12A11.013,11.013,0,0,0,12,1Zm0,14.286A3.286,3.286,0,1,1,15.286,12,3.29,3.29,0,0,1,12,15.286Z"
          ></path>
        </g>
      </svg>
    </div>
    <!-- <span>{{ userSignUp.controls.userName.errors | json }}</span> -->
    <span
      *ngIf="signUpService.checkUserName"
      class="text-red-500"
      style="font-size: small"
      >Available username</span
    >
    <p
      *ngIf="userSignUp.controls.userName.getError('minlength')"
      class="text-red-500"
      style="font-size: small"
    >
      Minimum length is 7 symbols</p
    >
    <p
      *ngIf="userSignUp.controls.userName.getError('maxlength')"
      class="text-red-500"
      style="font-size: small"
    >
      Maximum length is 25 symbols</p
    >
    <p *ngIf="userSignUp.controls.userName.getError('pattern')"
    class="text-red-500"
    style="font-size: small;">
      Username must contain letters and numbers
    </p>
  </div>
  <div class="mt-3">
    <label class="text-gray-800 text-xs block mb-2"
      >Email <span class="text-blue-400"> not necessarily</span></label
    >
    <div class="relative flex items-center">
      <input
        name="Email"
        type="email"
        class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-2 py-3 outline-hidden"
        placeholder="Enter email"
        formControlName="email"
      />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="#bbb"
        stroke="#bbb"
        class="w-[18px] h-[18px] absolute right-2"
        viewBox="0 0 682.667 682.667"
      >
        <defs>
          <clipPath id="a" clipPathUnits="userSpaceOnUse">
            <path d="M0 512h512V0H0Z" data-original="#000000"></path>
          </clipPath>
        </defs>
        <g clip-path="url(#a)" transform="matrix(1.33 0 0 -1.33 0 682.667)">
          <path
            fill="none"
            stroke-miterlimit="10"
            stroke-width="40"
            d="M452 444H60c-22.091 0-40-17.909-40-40v-39.446l212.127-157.782c14.17-10.54 33.576-10.54 47.746 0L492 364.554V404c0 22.091-17.909 40-40 40Z"
            data-original="#000000"
          ></path>
          <path
            d="M472 274.9V107.999c0-11.027-8.972-20-20-20H60c-11.028 0-20 8.973-20 20V274.9L0 304.652V107.999c0-33.084 26.916-60 60-60h392c33.084 0 60 26.916 60 60v196.653Z"
            data-original="#000000"
          ></path>
        </g>
      </svg>
    </div>
    
    <p *ngIf="userSignUp.controls.email.getError('email')" class="text-red-500" style="font-size: small;">Email is invalid</p>
  </div>

  <div class="mt-8">
    <label class="text-gray-800 text-xs block mb-2"
      ><span
        *ngIf="
          !userSignUp.controls.password.getError('pattern') &&
          userSignUp.controls.password.touched &&
          userSignUp.controls.password.getError('required')
        "
        class="text-red-500 text-lg"
        >*</span
      >Passwords</label
    >
    <div class="relative flex items-center">
      <input
        formControlName="password"
        name="password"
        [minlength]="7"
        [maxlength]="20"
        [type]="isPasswordShow ? 'text' : 'password'"
        required
        class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-2 py-3 outline-hidden"
        placeholder="Enter password"
      />
      <div>
        <div [hidden]="isPasswordShow" (click)="isPasswordShow = true">
          <svg
            (click)="isPasswordShow = true"
            [hidden]="isPasswordShow"
            xmlns="http://www.w3.org/2000/svg"
            fill="#bbb"
            stroke="#bbb"
            class="w-[18px] h-[18px] absolute right-2 cursor-pointer"
            viewBox="0 0 128 128"
          >
            <path
              d="M64 104C22.127 104 1.367 67.496.504 65.943a4 4 0 0 1 0-3.887C1.367 60.504 22.127 24 64 24s62.633 36.504 63.496 38.057a4 4 0 0 1 0 3.887C126.633 67.496 105.873 104 64 104zM8.707 63.994C13.465 71.205 32.146 96 64 96c31.955 0 50.553-24.775 55.293-31.994C114.535 56.795 95.854 32 64 32 32.045 32 13.447 56.775 8.707 63.994zM64 88c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm0-40c-8.822 0-16 7.178-16 16s7.178 16 16 16 16-7.178 16-16-7.178-16-16-16z"
              data-original="#000000"
            ></path>
          </svg>
        </div>
        <button [hidden]="!isPasswordShow" (click)="isPasswordShow = false">
          <svg
            class="w-[18px] h-[18px] absolute right-2 cursor-pointer"
            viewBox="0 0 128 128"
            viewBox="0 0 24 24"
            fill="#bbb"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g
              id="SVGRepo_tracerCarrier"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M2.99902 3L20.999 21M9.8433 9.91364C9.32066 10.4536 8.99902 11.1892 8.99902 12C8.99902 13.6569 10.3422 15 11.999 15C12.8215 15 13.5667 14.669 14.1086 14.133M6.49902 6.64715C4.59972 7.90034 3.15305 9.78394 2.45703 12C3.73128 16.0571 7.52159 19 11.9992 19C13.9881 19 15.8414 18.4194 17.3988 17.4184M10.999 5.04939C11.328 5.01673 11.6617 5 11.9992 5C16.4769 5 20.2672 7.94291 21.5414 12C21.2607 12.894 20.8577 13.7338 20.3522 14.5"
                stroke="#7d7d7d"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </g>
          </svg>
        </button>
      </div>
    </div>
    <span
      *ngIf="
        userSignUp.controls.password.getError('pattern') &&
        !userSignUp.controls.password.getError('minlength')
      "
      class="text-red-500"
      style="font-size: small"
      >Passwords should include a combination of uppercase letters, lowercase
      letters, digits, and special characters.</span
    >
    <p
      *ngIf="userSignUp.controls.password.getError('minlength')"
      class="text-red-500"
      style="font-size: small"
      >Minimum length is 7</p
    >
    <p
      *ngIf="userSignUp.controls.password.getError('maxlength')"
      class="text-red-500"
      style="font-size: small"
      >Maximum length is 25</p
    >
    
    <!-- <span>{{userSignUp.controls.password.errors|json}}</span> -->
  </div>

  <div class="mt-8">
    <label class="text-gray-800 text-xs block mb-2">Confirm password</label>
    <div class="relative flex items-center">
      <input
        formControlName="confirmPassword"
        [type]="isPasswordShow ? 'text' : 'password'"
        name="password"
        type="password"
        required
        class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-2 py-3 outline-hidden"
        placeholder="Enter password"
      />
      <div>
        <div [hidden]="isPasswordShow" (click)="isPasswordShow = true">
          <svg
            (click)="isPasswordShow = true"
            [hidden]="isPasswordShow"
            xmlns="http://www.w3.org/2000/svg"
            fill="#bbb"
            stroke="#bbb"
            class="w-[18px] h-[18px] absolute right-2 cursor-pointer"
            viewBox="0 0 128 128"
          >
            <path
              d="M64 104C22.127 104 1.367 67.496.504 65.943a4 4 0 0 1 0-3.887C1.367 60.504 22.127 24 64 24s62.633 36.504 63.496 38.057a4 4 0 0 1 0 3.887C126.633 67.496 105.873 104 64 104zM8.707 63.994C13.465 71.205 32.146 96 64 96c31.955 0 50.553-24.775 55.293-31.994C114.535 56.795 95.854 32 64 32 32.045 32 13.447 56.775 8.707 63.994zM64 88c-13.234 0-24-10.766-24-24s10.766-24 24-24 24 10.766 24 24-10.766 24-24 24zm0-40c-8.822 0-16 7.178-16 16s7.178 16 16 16 16-7.178 16-16-7.178-16-16-16z"
              data-original="#000000"
            ></path>
          </svg>
        </div>
        <div [hidden]="!isPasswordShow" (click)="isPasswordShow = false">
          <svg
            class="w-[18px] h-[18px] absolute right-2 cursor-pointer"
            viewBox="0 0 128 128"
            viewBox="0 0 24 24"
            fill="#bbb"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g
              id="SVGRepo_tracerCarrier"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M2.99902 3L20.999 21M9.8433 9.91364C9.32066 10.4536 8.99902 11.1892 8.99902 12C8.99902 13.6569 10.3422 15 11.999 15C12.8215 15 13.5667 14.669 14.1086 14.133M6.49902 6.64715C4.59972 7.90034 3.15305 9.78394 2.45703 12C3.73128 16.0571 7.52159 19 11.9992 19C13.9881 19 15.8414 18.4194 17.3988 17.4184M10.999 5.04939C11.328 5.01673 11.6617 5 11.9992 5C16.4769 5 20.2672 7.94291 21.5414 12C21.2607 12.894 20.8577 13.7338 20.3522 14.5"
                stroke="#7d7d7d"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </g>
          </svg>
        </div>
      </div>
    </div>
    <span
      *ngIf="userSignUp.getError('mustMatch')"
      class="text-red-500"
      style="font-size: small"
      >Not equal with password</span
    >
  </div>

  <div class="flex flex-wrap items-center justify-between gap-4 mt-6">
    <div class="flex items-center">
      <input
        id="remember-me"
        name="remember-me"
        type="checkbox"
        class="h-4 w-4 shrink-0 text-blue-600 focus:ring-blue-500 border-gray-300 rounded-sm"
      />
      <label for="remember-me" class="ml-3 block text-sm text-gray-800">
        Remember me
      </label>
    </div>
  </div>

  <div class="mt-12">
    <button
      (click)="submitData()"
      type="submit"
      [disabled]="!userSignUp.valid || signUpService.checkUserName"
      class="disabled:bg-gray-500 w-full shadow-xl py-2.5 px-4 text-sm tracking-wide rounded-md text-white bg-blue-400 hover:bg-blue-500 focus:outline-hidden"
    >
      Sign Up
    </button>
  </div>
</form>
<p class="text-sm mt-4 text-gray-800">
  You have an account
  <button
    (click)="registerService.onLoginArea = true"
    class="text-blue-600 font-semibold hover:underline ml-1 whitespace-nowrap"
  >
    Sign in here
  </button>
</p>



<div class="card flex justify-content-center">
  <p-dialog header="Start the bot" [modal]="true" [(visible)]="registerService.visible" [style]="{ width: '25rem' }">
      Our bot <a class="text-blue-400" href="https://t.me/lms_manager_bot">{{'@lms_manager_bot'}}</a>
      
  </p-dialog>
</div>